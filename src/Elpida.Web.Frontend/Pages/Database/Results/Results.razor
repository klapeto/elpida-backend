@page "/Database/Results"
@using Elpida.Web.Frontend.Shared.Components
@using Elpida.Web.Frontend.Services
@using Elpida.Backend.Services.Abstractions.Dtos.Result;
@using Elpida.Backend.Services.Abstractions.Dtos

<h3>Results</h3>

<PagedCollection Service="_service" TDto="BenchmarkResultDto" TPreview="BenchmarkResultPreviewDto">

    <LinkButton Class="collection-item-link" Href="@GetResultLink(context)">
        <img alt="@context.CpuVendor logo" src="@ImageLinksService.GetCpuImageLink(context.CpuVendor)" class="collection-item-icon" loading="lazy">
        <img alt="@context.BenchmarkName representative image" src="@ImageLinksService.GetBenchmarkImage(context.BenchmarkUuid)" class="collection-item-icon" loading="lazy">
        <div class="collection-item-name-container">
            <span>@context.TimeStamp</span>
            <span class="collection-item-name">@context.CpuModelName</span>
        </div>
        <div class="collection-item-details-container">
            <span class="collection-item-name">
                @context.BenchmarkName
            </span>
            <span class="result-value">@ValueConverterService.ConvertToStringSI(context.Score, spaceBetween: true)@context.BenchmarkScoreUnit</span>
        </div>

    </LinkButton>

</PagedCollection>


@inject ResultsFrontEndService _service;

@code {

    private static string GetResultLink(FoundationDto dto)
    {
        return $"/Database/Result/{dto.Id}";
    }

}